---
description: >
  Executor for node.js jobs with redis and postgres image
docker:
  - image: 'cimg/node:<<parameters.node_tag>>'
  - image: 'cimg/redis:<<parameters.redis_tag>>'
  - image: 'cimg/postgres:<< parameters.postgres_tag >>'
    environment:
      - POSTGRES_PASSWORD=<< parameters.postgres_password >>
      - POSTGRES_USER=<< parameters.postgres_username >>
      - POSTGRES_DB=<< parameters.postgres_db >>
working_directory: ~/app
resource_class: <<parameters.resource_class>>
parameters:
  resource_class:
    default: medium
    type: string
  node_tag:
    default: "none"
    type: string
  redis_tag:
    default: "none"
    type: string
  postgres_tag:
    default: "none"
    type: string
  postgres_password:
    default: "dev"
    type: string
  postgres_username:
    default: "root"
    type: string
  postgres_db:
    default: "postgres"
    type: string
