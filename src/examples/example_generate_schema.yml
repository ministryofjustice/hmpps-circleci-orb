---
description: >
  CircleCI orb used to store common jobs/commands used by MoJ DPS team projects.
usage:
  version: 2.1
  orbs:
    hmpps: ministryofjustice/hmpps@8
  workflows:
    generate-schema:
      jobs:
        - run:
            # Run any task to initialize the database schema. Applies to any spring integration test that initializes the application context and runs flyway scripts.
            # This will allow schemaspy to build the report
            name: Initialize database
            command: ./gradlew build
        - hmpps/generate_db_schema:
            schema: example_schema
